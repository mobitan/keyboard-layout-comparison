<!doctype html>
<html lang='ja'>
<head>
<meta charset='UTF-8'>
<title>打鍵効率の目安</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<!--
  Copyright 2015-2017 Esrille Inc.

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
<style>
body {
  margin: 0px 30px;
  font-family: sans-serif;
}
h1 {
  font-size: 1.6em;
  font-weight: normal;
}
table {
  margin: 1.5em;
  border-collapse: collapse;
}
.nested {
  margin: 0em;
  padding: 0em;
}
th, td {
  border: 1px solid silver;
  padding: 0.2em 1em;
  text-align: center;
}
.nested th, .nested td {
  padding: 0em;
  vertical-align: bottom
}
th {
  font-family: sans-serif;
  font-weight: normal;
}
hr {
  margin: 2em;
}
footer {
  margin-top: 2em;
  text-align: right;
  color: gray;
  font-size: smaller;
}
.note {
  font-size: smaller;
}
</style>
</head>
<body>
<h1>打鍵効率の目安</h1>
<table id='result'>
<tr>
<th>配列</th>
<!-- <th>記憶負担量<span class='note'>(1)</span></th> -->
<th>濁音</th>
<th>シフトキー</th>
<th>同手シフト</th>
<th>打鍵数</th>
<th>打鍵効率<span class='note'>(2)</span></th>
<th>交互打鍵</th>
<!-- <th>連続シフト数<span class='note'>(3)</span></th> -->
<th>同指異鍵</th>
<th>同手同段異指<span class='note'>(4)</span></th>
<th>頻度</th>
</tr>
</table>
<span class='note'>
<!-- (1) 森田正典博士の考案された<a href='https://ipsj.ixsq.nii.ac.jp/ej/?action=pages_view_main&active_action=repository_view_main_item_detail&item_id=37797&item_no=1&page_id=13&block_id=8'>計算方式</a>により、かな文字の記憶負担量を改めて計算したもの。数値が小さいほどキー配置を覚えやすい。<br> -->
(2) 文章を入力するのに要したキーボードの打鍵数を、ひらがなに戻して数えた文章の文字数で割った数値。<br>
<!-- (3) 同じシフト面の文字が続いて、シフトキーを押したままにできた文字数。<br> -->
(4) T,G,B,Y,H,Nキーは除外。<br>
</span>
<p>
<button onclick="retry()">再評価</button>

<hr>

別の文章で評価したいときは、下のテキスト ボックスにひらがなで文章を貼り付けて、[再評価]ボタンを押します。
<p>
<textarea id='text' cols='80' rows='10' style='overflow: scroll'>
めくらぶどうとにじ
しろあとのおおばこのみはむすび、あかつめくさのはなはかれてこげちゃいろになり、はたけのあわはかられました。
「かられたぞ。」
といいながらいっぺんちょっとかおをだしたのねずみがまたいそいであなへひっこみました。
がけやほりには、まばゆいぎんのすすきのほが、いちめんかぜになみだっています。
そのしろあとのまんなかに、ちいさなしっかくやまがあって、うえのやぶには、めくらぶどうのみが、にじのようにうれていました。
さて、かすかなかすかなひでりあめがふりましたので、くさはきらきらひかり、むこうのやまはくらくなりました。
そのかすかなかすかなひでりあめがはれましたので、くさはきらきらひかり、むこうのやまはあかるくなって、たいへんまぶしそうにわらっています。
そっちのほうから、もずが、まるでおんぷをばらばらにしてふりまいたようにとんできて、みんないちどに、ぎんのすすきのほにとまりました。
めくらぶどうはかんげきして、すきとおったふかいいきをつきはからしずくをぽたぽたこぼしました。
ひがしのはいいろのさんみゃくのうえを、つめたいかぜがふっととおって、おおきなにじが、あかるいゆめのはしのようにやさしくそらにあらわれました。
そこでめくらぶどうのあおじろいじゅえきは、はげしくはげしくなみうちました。
そうです。
きょうこそ、ただのひとことでも、にじとことばをかわしたい、おかのうえのちいさなめくらぶどうのきが、よるのそらにもえるあおいほのおよりも、もっとつよい、もっとかなしいおもいを、はるかのうつくしいにじにささげると、ただこれだけをつたえたい、ああ、それからならば、それからならば、みやはがかぜにちぎられて、あのあかるいつめたいまっしろのふゆのねむりにはいっても、あるいはそのままかれてしまってもいいのでした。
「にじさん。
どうか、ちょっとこっちをみてください。」
めくらぶどうは、ふだんのすきとおるこえもどこかへいって、しわがれたこえをかぜにはんぶんとられながらさけびました。
やさしいにじは、うっとりにしのあおいそらをながめていたおおきなあおいひとみを、めくらぶどうにむけました。
「なにかごようでいらっしゃいますか。
あなたはめくらぶどうさんでしょう。」
めくらぶどうは、まるでぶなのきのはのようにぷりぷりふるえて、かがやいて、いきがせわしくておもうようにものがいえませんでした。
「どうかわたしのうやまいをうけてとってください。」
にじはおおきくといきをつきましたので、きやすみれはひとつずつこえをあげるようにかがやきました。
そしていいました。
「うやまいをうけることは、あなたもおなじです。
なぜそんないんきなかおをなさるのですか。」
「わたしはもうしんでもいいのです。」
「どうしてそんなことを、おっしゃるのです。
あなたはまだおわかいではありませんか。
それにゆきがふるまでには、まだにかげつあるではありませんか。」
「いいえ。
わたしのいのちなんか、なんでもないんです。
あなたが、もし、もっとりっぱにおなりになるためなら、わたしなんか、ひゃっぺんでもしにます。」
「あら、あなたこそそんなにおりっぱではありませんか。
あなたは、たとえば、きえることのないにじです。
かわらないわたしです。
わたしなどはそれはまことにたよりないのです。
ほんのじっぷんかじゅうごふんのいのちです。
たださんびょうのときさえあります。
ところがあなたにかがやくなないろはいつまでもかわりません。」
「いいえ、かわります。
かわります。
わたしのみのひかりなんか、もうすぐかぜにもっていかれます。
ゆきにうずまってしろくなってしまいます。
かれくさのなかでくさってしまいます。」
にじはおもわずわらいました。
「ええ、そうです。
ほんとうはどんなものでもかわらないものはないのです。
ごらんなさい。
むこうのそらはまっさおでしょう。
まるでいいくじゃくいしのようです。
けれどもまもなくおひさまがあすこをおとおりになって、やまへおはいりになりますと、あすこはつきみそうのはなびらのようになります。
それもまもなくしぼんで、やがてたそがれまえのぎんいろと、それからほしをちりばめたよるとがきます。
そのころ、わたしは、どこへいき、どこにうまれているでしょう。
また、このめのまえの、うつくしいおかやのはらも、みないちびょうずつけずられたりくずれたりしています。
けれども、もしも、まことのちからが、これらのなかにあらわれるときは、すべてのおとろえるもの、しわむもの、さだめないもの、はかないもの、みなかぎりないいのちです。
わたくしでさえ、たださんびょうひらめくときも、はんときそらにかかるときもいつもおんなじよろこびです。」
「けれども、あなたは、たかくひかりのそらにかかります。
すべてくさやはなやとりは、みなあなたをほめてうたいます。」
「それはあなたもおなじです。
すべてわたしにきて、わたしをかがやかすものは、あなたをもきらめかします。
わたしにあたえられたすべてのほめことばは、そのままあなたにおくられます。
ごらんなさい。
まことのひとみでものをみるひとは、ひとのおうのさかえのきわみをも、ののゆりのひとつにくらべようとはしませんでした。
それは、ひとのさかえをば、ひとのたくらむように、しばらくまことのちから、かぎりないいのちからはなしてみたのです。
もしそのひかりのなかでならば、ひとのおごりからあやしいくもとわきのぼる、ちりのなかのただいちまつも、かみのこのほめたもうた、せいなるゆりにおとるものではありません。」
「わたしをおしえてください。
わたしをつれていってください。
わたしはどんなことでもいたします。」
「いいえわたしはどこへもいきません。
いつでもあなたのことをかんがえています。
すべてまことのひかりのなかに、いっしょにすむひとは、いつでもいっしょにいくのです。
いつまでもほろびるということはありません。
けれども、あなたは、もうわたしをみないでしょう。
おひさまがあまりとおくなりました。
もずがとびたちます。
わたしはあなたにおわかれしなければなりません。」
ていしゃじょうのほうで、するどいふえがぴーとなりました。
もずはみな、いっぺんにとびたって、きちがいになったばらばらのがくふのように、やかましくなきながら、ひがしのほうへとんでいきました。
めくらぶどうはたかくさけびました。
「にじさん。
わたしをつれていってください。
どこへもいかないでください。」
にじはかすかにわらったようでしたが、もうよほどうすくなって、はっきりわかりませんでした。
そして、いまはもう、すっかりきえました。
そらはぎんいろのひかりをまし、あまり、もずがやかましいので、ひばりもしかたなく、そのそらへのぼって、すこしばかりちょうしはずれのうたをうたいました。

</textarea>


<footer>
Copyright 2015, 2016 <a href='http://www.esrille.com/'>Esrille Inc.</a>
</footer>

<script>
// 物理配列
// 　　１２３４５　６７８９０
// ［］ｑｗｅｒｔ　ｙｕｉｏｐ－＝
// 　　ａｓｄｆｇ　ｈｊｋｌ；’＼
// 　　ｚｘｃｖｂ　ｎｍ，．／
var layouts = [
    [   "ローマ字入力", "", [
        ["んあ", "nnあ"], ["んい", "nnい"], ["んう", "nnう"], ["んえ", "nnえ"], ["んお", "nnお"],
        ["んな", "nnな"], ["んに", "nnに"], ["んぬ", "nnぬ"], ["んね", "nnね"], ["んの", "nnの"],
        ["うぁ", "wha"],  ["うぃ", "wi"],                     ["うぇ", "we"],   ["うぉ", "who"],
        ["きゃ", "kya"],  ["きぃ", "kyi"],  ["きゅ", "kyu"],  ["きぇ", "kye"],  ["きょ", "kyo"],
        ["くぁ", "qa"],   ["くぃ", "qi"],   ["くぅ", "qwu"],  ["くぇ", "qe"],   ["くぉ", "qo"],
        ["しゃ", "sya"],  ["しぃ", "syi"],  ["しゅ", "syu"],  ["しぇ", "sye"],  ["しょ", "syo"],
        ["すぁ", "swa"],  ["すぃ", "swi"],  ["すぅ", "swu"],  ["すぇ", "swe"],  ["すぉ", "swo"],
        ["ちゃ", "tya"],  ["ちぃ", "tyi"],  ["ちゅ", "tyu"],  ["ちぇ", "tye"],  ["ちょ", "tyo"],
        ["つぁ", "tsa"],  ["つぃ", "tsi"],                    ["つぇ", "tse"],  ["つぉ", "tso"],
        ["てゃ", "tha"],  ["てぃ", "thi"],  ["てゅ", "thu"],  ["てぇ", "the"],  ["てょ", "tho"],
        ["とぁ", "twa"],  ["とぃ", "twi"],  ["とぅ", "twu"],  ["とぇ", "twe"],  ["とぉ", "two"],
        ["にゃ", "nya"],  ["にぃ", "nyi"],  ["にゅ", "nyu"],  ["にぇ", "nye"],  ["にょ", "nyo"],
        ["ひゃ", "hya"],  ["ひぃ", "hyi"],  ["ひゅ", "hyu"],  ["ひぇ", "hye"],  ["ひょ", "hyo"],
        ["ふぁ", "fa"],   ["ふぃ", "fi"],   ["ふぅ", "fwu"],  ["ふぇ", "fe"],   ["ふぉ", "fo"],
        ["ふゃ", "fya"],                    ["ふゅ", "fyu"],                    ["ふょ", "fyo"],
        ["みゃ", "mya"],  ["みぃ", "myi"],  ["みゅ", "myu"],  ["みぇ", "mye"],  ["みょ", "myo"],
        ["りゃ", "rya"],  ["りぃ", "ryi"],  ["りゅ", "ryu"],  ["りぇ", "rye"],  ["りょ", "ryo"],
        ["ぎゃ", "gya"],  ["ぎぃ", "gyi"],  ["ぎゅ", "gyu"],  ["ぎぇ", "gye"],  ["ぎょ", "gyo"],
        ["ぐぁ", "gwa"],  ["ぐぃ", "gwi"],  ["ぐぅ", "gwu"],  ["ぐぇ", "gwe"],  ["ぐぉ", "qwo"],
        ["じゃ", "ja"],   ["じぃ", "jyi"],  ["じゅ", "ju"],   ["じぇ", "je"],   ["じょ", "jo"],
        ["ぢゃ", "dya"],  ["ぢぃ", "dyi"],  ["ぢゅ", "dyu"],  ["ぢぇ", "dye"],  ["ぢょ", "dyo"],
        ["でゃ", "dha"],  ["でぃ", "dhi"],  ["でゅ", "dhu"],  ["でぇ", "dhe"],  ["でょ", "dho"],
        ["どぁ", "dwa"],  ["どぃ", "dwi"],  ["どぅ", "dwu"],  ["どぇ", "dwe"],  ["どぉ", "dwo"],
        ["びゃ", "bya"],  ["びぃ", "byi"],  ["びゅ", "byu"],  ["びぇ", "bye"],  ["びょ", "byo"],
        ["ゔぁ", "va"],   ["ゔぃ", "vi"],   ["ゔ", "vu"],     ["ゔぇ", "ve"],   ["ゔぉ", "vo"],
        ["ゔゃ", "vya"],                    ["ゔゅ", "vyu"],                    ["ゔょ", "vyo"],
        ["ぴゃ", "pya"],  ["ぴぃ", "pyi"],  ["ぴゅ", "pyu"],  ["ぴぇ", "pye"],  ["ぴょ", "pyo"],
        ["か", "ka"],    ["き", "ki"],   ["く", "ku"],   ["け", "ke"],   ["こ", "ko"],
        ["さ", "sa"],    ["し", "si"],   ["す", "su"],   ["せ", "se"],   ["そ", "so"],
        ["た", "ta"],    ["ち", "ti"],   ["つ", "tu"],   ["て", "te"],   ["と", "to"],
        ["な", "na"],    ["に", "ni"],   ["ぬ", "nu"],   ["ね", "ne"],   ["の", "no"],
        ["は", "ha"],    ["ひ", "hi"],   ["ふ", "fu"],   ["へ", "he"],   ["ほ", "ho"],
        ["ま", "ma"],    ["み", "mi"],   ["む", "mu"],   ["め", "me"],   ["も", "mo"],
        ["や", "ya"],    ["ゆ", "yu"],   ["よ", "yo"],
        ["ら", "ra"],    ["り", "ri"],   ["る", "ru"],   ["れ", "re"],   ["ろ", "ro"],
        ["わ", "wa"],    ["を", "wo"],
        ["ん", "n"],
        ["が", "ga"],    ["ぎ", "gi"],   ["ぐ", "gu"],   ["げ", "ge"],   ["ご", "go"],
        ["ざ", "za"],    ["じ", "zi"],   ["ず", "zu"],   ["ぜ", "ze"],   ["ぞ", "zo"],
        ["だ", "da"],    ["ぢ", "di"],   ["づ", "du"],   ["で", "de"],   ["ど", "do"],
        ["ば", "ba"],    ["び", "bi"],   ["ぶ", "bu"],   ["べ", "be"],   ["ぼ", "bo"],
        ["ぱ", "pa"],    ["ぴ", "pi"],   ["ぷ", "pu"],   ["ぺ", "pe"],   ["ぽ", "po"],
        ["あ", "a"],     ["い", "i"],    ["う", "u"],    ["え", "e"],    ["お", "o"],
        ["ぁ", "xa"],    ["ぃ", "xi"],   ["ぅ", "xu"],   ["ぇ", "xe"],   ["ぉ", "xo"],
        ["ヵ", "xka"],   ["ヶ", "xke"],
        ["ゃ", "xya"],   ["ゅ", "xyu"],  ["ょ", "xyo"],
        ["っ([a-z])", "$1$1"],
        ["っ", "xtu"],
        ["ゎ", "xwa"],
        ["「", "["],     ["」", "]"],
        ["、", ","],     ["。", "."],    ["ー", "-"]
      ], "", "", ""
    ],
    [   "ローマ字入力+撥促拗音", "", [
                          ["うぃ", "wi"],                     ["うぇ", "we"],   ["うぉ", "who"],
        ["きゃ", "kj"],                     ["きゅ", "kf"],                     ["きょ", "kl"],
        ["しゃ", "sj"],                     ["しゅ", "sf"],   ["しぇ", "she"],  ["しょ", "sl"],
        ["ちゃ", "tj"],                     ["ちゅ", "tf"],   ["ちぇ", "che"],  ["ちょ", "tl"],
        ["つぁ", "tsa"],  ["つぃ", "tsi"],                    ["つぇ", "tse"],  ["つぉ", "tso"],
        ["てゃ", "tha"],  ["てぃ", "thi"],  ["てゅ", "thu"],                    ["てょ", "tho"],
                                            ["とぅ", "twu"],
        ["にゃ", "nj"],                     ["にゅ", "nf"],                     ["にょ", "nl"],
        ["ひゃ", "hj"],                     ["ひゅ", "hf"],                     ["ひょ", "hl"],
        ["ふぁ", "fa"],   ["ふぃ", "fi"],                     ["ふぇ", "fe"],   ["ふぉ", "fo"],
        ["ふゃ", "fj"],                     ["ふゅ", "ff"],                     ["ふょ", "fl"],
        ["みゃ", "mj"],                     ["みゅ", "mf"],                     ["みょ", "ml"],
        ["りゃ", "rj"],                     ["りゅ", "rf"],                     ["りょ", "rl"],
        ["ぎゃ", "gj"],                     ["ぎゅ", "gf"],                     ["ぎょ", "gl"],
        ["じゃ", "ja"],                     ["じゅ", "ju"],   ["じぇ", "je"],   ["じょ", "jo"],
        ["ぢゃ", "dj"],                     ["ぢゅ", "df"],                     ["ぢょ", "dl"],
        ["でゃ", "dha"],  ["でぃ", "dhi"],  ["でゅ", "dhu"],                    ["でょ", "dho"],
                                            ["どぅ", "dwu"],
        ["びゃ", "bj"],                     ["びゅ", "bf"],                     ["びょ", "bl"],
        ["ゔぁ", "vwa"],  ["ゔぃ", "vwi"],  ["ゔ",   "vwu"],  ["ゔぇ", "vwe"],  ["ゔぉ", "vwo"],
        ["ゔゃ", "vj"],                     ["ゔゅ", "vf"],                     ["ゔょ", "vl"],
        ["ぴゃ", "pj"],                     ["ぴゅ", "pf"],                     ["ぴょ", "pl"],
        ["か", "ka"],    ["き", "ki"],   ["く", "ku"],   ["け", "ke"],   ["こ", "ko"],
        ["さ", "sa"],    ["し", "si"],   ["す", "su"],   ["せ", "se"],   ["そ", "so"],
        ["た", "ta"],    ["ち", "ti"],   ["つ", "tu"],   ["て", "te"],   ["と", "to"],
        ["な", "na"],    ["に", "ni"],   ["ぬ", "nu"],   ["ね", "ne"],   ["の", "no"],
        ["は", "ha"],    ["ひ", "hi"],   ["ふ", "fu"],   ["へ", "he"],   ["ほ", "ho"],
        ["ま", "ma"],    ["み", "mi"],   ["む", "mu"],   ["め", "me"],   ["も", "mo"],
        ["や", "ya"],                    ["ゆ", "yu"],                   ["よ", "yo"],
        ["ら", "ra"],    ["り", "ri"],   ["る", "ru"],   ["れ", "re"],   ["ろ", "ro"],
        ["わ", "wa"],                                                    ["を", "wo"],
        ["ん", ";"],
        ["が", "ga"],    ["ぎ", "gi"],   ["ぐ", "gu"],   ["げ", "ge"],   ["ご", "go"],
        ["ざ", "za"],    ["じ", "ji"],   ["ず", "zu"],   ["ぜ", "ze"],   ["ぞ", "zo"],
        ["だ", "da"],    ["ぢ", "di"],   ["づ", "du"],   ["で", "de"],   ["ど", "do"],
        ["ば", "ba"],    ["び", "bi"],   ["ぶ", "bu"],   ["べ", "be"],   ["ぼ", "bo"],
        ["ぱ", "pa"],    ["ぴ", "pi"],   ["ぷ", "pu"],   ["ぺ", "pe"],   ["ぽ", "po"],
        ["あ", "a"],     ["い", "i"],    ["う", "u"],    ["え", "e"],    ["お", "o"],
        ["ぁ", "xa"],    ["ぃ", "xi"],   ["ぅ", "xu"],   ["ぇ", "xe"],   ["ぉ", "xo"],
        ["ヵ", "xka"],                                   ["ヶ", "xke"],
        ["ゃ", "xya"],                   ["ゅ", "xyu"],                  ["ょ", "xyo"],
        ["っ", "l"],
        ["ゎ", "xwa"],
        ["「", "["],     ["」", "]"],
        ["、", ","],     ["。", "."],    ["ー", "'"]
      ], "", "", ""
    ],
    [ "新JIS配列 (X 6004)", "http://jisx6004.client.jp/jisx6004.html", [
        //      そけせてょ　つんのをりち
        //      はかしとた　くうい゛きな
        //      すこにさあ　っる、。れ
        //
        //  S   ぁ゜ほふめ　ひえみやぬ
        //      ぃへらゅよ　まおもわゆ
        //      ぅぇぉねゃ　むろ・ー
        ["あ", "b"],     ["い", "k"],     ["う", "j"],     ["え", "Su|"],   ["お", "Sj|"],
        ["か", "s"],     ["き", ";"],     ["く", "h"],     ["け", "w"],     ["こ", "x"],
        ["さ", "v"],     ["し", "d"],     ["す", "z"],     ["せ", "e"],     ["そ", "q"],
        ["た", "f"],     ["ち", "-"],     ["つ", "y"],     ["て", "r"],     ["と", "f"],
        ["な", "'"],     ["に", "c"],     ["ぬ", "Sp|"],   ["ね", "Sv|"],   ["の", "i"],
        ["は", "a"],     ["ひ", "Sy|"],   ["ふ", "Sr|"],   ["へ", "Ss|"],   ["ほ", "Se|"],
        ["ま", "Sh|"],   ["み", "Si|"],   ["む", "Sn|"],   ["め", "St|"],   ["も", "Sk|"],
        ["や", "So|"],                    ["ゆ", "S;|"],                    ["よ", "Sg|"],
        ["ら", "Sd|"],   ["り", "p"],     ["る", "m"],     ["れ", "/"],     ["ろ", "Sm|"],
        ["わ", "Sl|"],                                                      ["を", "o"],
        ["ん", "u"],
        ["ゔ", "jl"],
        ["が", "sl"],    ["ぎ", ";l"],    ["ぐ", "hl"],    ["げ", "wl"],    ["ご", "xl"],
        ["ざ", "vl"],    ["じ", "dl"],    ["ず", "zl"],    ["ぜ", "el"],    ["ぞ", "ql"],
        ["だ", "fl"],    ["ぢ", "-l"],    ["づ", "yl"],    ["で", "rl"],    ["ど", "fl"],
        ["ば", "al"],    ["び", "Syl"],   ["ぶ", "Srl"],   ["べ", "Ssl"],   ["ぼ", "Sel"],
        ["ぱ", "aSw|"],  ["ぴ", "SySw|"], ["ぷ", "SrSw|"], ["ぺ", "SsSw|"], ["ぽ", "SeSw|"],
        ["ぁ", "Sq|"],   ["ぃ", "Sa|"],   ["ぅ", "Sz|"],   ["ぇ", "Sx|"],   ["ぉ", "Sc|"],
        ["ゃ", "Sb|"],                    ["ゅ", "Sf|"],                    ["ょ", "t"],
        ["っ", "n"],
        ["「", "["],     ["」", "]"],
        ["、", ","],     ["。", "."],     ["ー", "S.|"]
      ], "後置", "小|小", "なし"
    ],
    [ "月配列 2-263", "http://jisx6004.client.jp/tsuki.html", [
        //      そこしてょ　つんいのりち
        //      はか☆とた　くう★゛きれ
        //      すけになさ　っる、。゜
        //
        //  ☆  ぁひほふめ　ぬえみやぇ
        //  ★  ぃをらあよ　まおもわゆ
        //      ぅへせゅゃ　むろねーぉ
        ["あ", "kf"],    ["い", "i"],     ["う", "j"],     ["え", "du"],    ["お", "dj"],
        ["か", "s"],     ["き", ";"],     ["く", "h"],     ["け", "x"],     ["こ", "w"],
        ["さ", "b"],     ["し", "e"],     ["す", "z"],     ["せ", "kc"],    ["そ", "q"],
        ["た", "g"],     ["ち", "-"],     ["つ", "y"],     ["て", "r"],     ["と", "f"],
        ["な", "v"],     ["に", "c"],     ["ぬ", "dy"],    ["ね", "d,"],    ["の", "o"],
        ["は", "a"],     ["ひ", "kw"],    ["ふ", "kr"],    ["へ", "kx"],    ["ほ", "ke"],
        ["ま", "dh"],    ["み", "di"],    ["む", "dn"],    ["め", "kt"],    ["も", "dk"],
        ["や", "do"],                     ["ゆ", "d;"],                     ["よ", "kg"],
        ["ら", "kd"],    ["り", "p"],     ["る", "m"],     ["れ", "'"],     ["ろ", "dm"],
        ["わ", "dl"],                                                       ["を", "ks"],
        ["ん", "u"],
        ["が", "sl"],    ["ぎ", ";l"],    ["ぐ", "hl"],    ["げ", "xl"],    ["ご", "wl"],
        ["ざ", "bl"],    ["じ", "el"],    ["ず", "zl"],    ["ぜ", "kcl"],   ["ぞ", "ql"],
        ["だ", "gl"],    ["ぢ", "-l"],    ["づ", "yl"],    ["で", "rl"],    ["ど", "fl"],
        ["ば", "al"],    ["び", "kwl"],   ["ぶ", "krl"],   ["べ", "kxl"],   ["ぼ", "kel"],
        ["ぱ", "a/"],    ["ぴ", "kw/"],   ["ぷ", "kr/"],   ["ぺ", "kx/"],   ["ぽ", "ke/"],
        ["ぁ", "kq"],    ["ぃ", "ka"],    ["ぅ", "kz"],    ["ぇ", "dp"],    ["ぉ", "d/"],
        ["ゃ", "kb"],                     ["ゅ", "kv"],                     ["ょ", "t"],
        ["っ", "n"],
        ["「", "["],     ["」", "]"],
        ["、", ","],     ["。", "."],     ["ー", "d."]
      ], "後置", "中|中", "なし"
    ],
    [ "月配列 T", "https://t-ken.blogspot.com/2017/08/t31.html", [
        //      ゅかしてょ　つんい゛ち゜
        //      はこ☆とた　くう★のきー
        //      すふせなさ　っる、。
        //
        //  ☆  ゆれひへめ　むゃりみえぬ
        //  ★  ほもらおあ　けまにをね
        //      ぁぃそよや　わろぅぇぉ
        ["あ", "kg"],    ["い", "i"],     ["う", "j"],     ["え", "dp"],    ["お", "kf"],
        ["か", "w"],     ["き", ";"],     ["く", "h"],     ["け", "dh"],    ["こ", "s"],
        ["さ", "b"],     ["し", "e"],     ["す", "z"],     ["せ", "c"],     ["そ", "kc"],
        ["た", "g"],     ["ち", "p"],     ["つ", "y"],     ["て", "r"],     ["と", "f"],
        ["な", "v"],     ["に", "dk"],    ["ぬ", "d-"],    ["ね", "d;"],    ["の", "l"],
        ["は", "a"],     ["ひ", "ke"],    ["ふ", "x"],     ["へ", "kr"],    ["ほ", "ka"],
        ["ま", "dj"],    ["み", "do"],    ["む", "dy"],    ["め", "kt"],    ["も", "ks"],
        ["や", "kb"],                     ["ゆ", "kq"],                     ["よ", "kv"],
        ["ら", "kd"],    ["り", "di"],    ["る", "m"],     ["れ", "kw"],    ["ろ", "dm"],
        ["わ", "dn"],                                                       ["を", "dl"],
        ["ん", "u"],
        ["が", "wo"],    ["ぎ", ";o"],    ["ぐ", "ho"],    ["げ", "dho"],   ["ご", "so"],
        ["ざ", "bo"],    ["じ", "eo"],    ["ず", "zo"],    ["ぜ", "co"],    ["ぞ", "kco"],
        ["だ", "go"],    ["ぢ", "po"],    ["づ", "yo"],    ["で", "ro"],    ["ど", "fo"],
        ["ば", "ao"],    ["び", "eo"],    ["ぶ", "xo"],    ["べ", "kro"],   ["ぼ", "kao"],
        ["ぱ", "a-"],    ["ぴ", "ke-"],   ["ぷ", "x-"],    ["ぺ", "kr-"],   ["ぽ", "ka-"],
        ["ぁ", "kz"],    ["ぃ", "kx"],    ["ぅ", "d,"],    ["ぇ", "d."],    ["ぉ", "d/"],
        ["ゃ", "du"],                     ["ゅ", "q"],                      ["ょ", "t"],
        ["っ", "n"],
        ["「", "["],     ["」", "]"],
        ["、", ","],     ["。", "."],     ["ー", "'"]
      ], "後置", "中|中", "なし"
    ],
    [ "○配列", "http://www.geocities.jp/rage2050a/GeneKana/_ReadMe.html", [
        //		けにとこさ	れっいのるま
        //		した☆かて	くん★゛なー
        //		らすよはょ	きう、。゜・
        //
        //	☆	ぁゃろほゆ	わむやえぇ
        //	★	ぃおもあゅ	めりつちせ
        //		ぅねそへふ	ぬみひをぉ
        ["あ", "kf"],    ["い", "i"],     ["う", "m"],     ["え", "do"],    ["お", "ks"],
        ["か", "f"],     ["き", "n"],     ["く", "h"],     ["け", "q"],     ["こ", "r"],
        ["さ", "t"],     ["し", "a"],     ["す", "x"],     ["せ", "d;"],    ["そ", "kc"],
        ["た", "s"],     ["ち", "dl"],    ["つ", "dk"],    ["て", "g"],     ["と", "e"],
        ["な", ";"],     ["に", "w"],     ["ぬ", "dn"],    ["ね", "kx"],    ["の", "o"],
        ["は", "v"],     ["ひ", "d,"],    ["ふ", "kb"],    ["へ", "kv"],    ["ほ", "kr"],
        ["ま", "-"],     ["み", "dm"],    ["む", "du"],    ["め", "dh"],    ["も", "kd"],
        ["や", "di"],                     ["ゆ", "kt"],                     ["よ", "c"],
        ["ら", "z"],     ["り", "dj"],    ["る", "p"],     ["れ", "dy"],    ["ろ", "ke"],
        ["わ", "dy"],                                                       ["を", "d."],
        ["ん", "j"],
        ["が", "fl"],    ["ぎ", "nl"],    ["ぐ", "hl"],    ["げ", "ql"],    ["ご", "rl"],
        ["ざ", "tl"],    ["じ", "al"],    ["ず", "xl"],    ["ぜ", "d;l"],   ["ぞ", "kcl"],
        ["だ", "sl"],    ["ぢ", "dll"],   ["づ", "dkl"],   ["で", "gl"],    ["ど", "el"],
        ["ば", "vl"],    ["び", "d,l"],   ["ぶ", "kbl"],   ["べ", "kvl"],   ["ぼ", "krl"],
        ["ぱ", "v/"],    ["ぴ", "d,/"],   ["ぷ", "lb/"],   ["ぺ", "kv/"],   ["ぽ", "kr/"],
        ["ぁ", "kq"],    ["ぃ", "ka"],    ["ぅ", "kz"],    ["ぇ", "dp"],    ["ぉ", "d/"],
        ["ゃ", "kw"],                     ["ゅ", "kg"],                     ["ょ", "b"],
        ["っ", "u"],
        ["「", "["],     ["」", "]"],
        ["、", ","],     ["。", "."],     ["ー", "'"]
      ], "後置", "中|中", "なし"
    ],
    [ "月配列 U9", "http://yellow.ribbon.to/~ujiro/", [
        //      ゅとしこょ　つんいかりー
        //      は◇☆てた　くう★◆きち
        //      すをになさ　っるのもへ・
        //
        //  ★  ぁゃねらめ　ぬむみえぇ
        //  ☆  ぃけ、あれ　まおほそろ
        //      ぅやせよゆ　ひわふぃぉ
        //
        //  ◆  ！どじご～　づぴぽが？
        //  ◇  ばげ。でだ　ぐゔぼぞぎぢ
        //      ずぱぜ　ざ　びぷぶぺべ
        ["あ", "kq"],    ["い", "i"],     ["う", "j"],     ["え", "do"],    ["お", "dj"],
        ["か", "o"],     ["き", ";"],     ["く", "h"],     ["け", "ks"],    ["こ", "r"],
        ["さ", "b"],     ["し", "e"],     ["す", "z"],     ["せ", "kc"],    ["そ", "sl"],
        ["た", "g"],     ["ち", "'"],     ["つ", "y"],     ["て", "f"],     ["と", "w"],
        ["な", "v"],     ["に", "c"],     ["ぬ", "dy"],    ["ね", "ke"],    ["の", ","],
        ["は", "a"],     ["ひ", "dn"],    ["ふ", "d,"],    ["へ", "/"],     ["ほ", "dk"],
        ["ま", "dh"],    ["み", "di"],    ["む", "du"],    ["め", "kt"],    ["も", "."],
        ["や", "kx"],                     ["ゆ", "kb"],                     ["よ", "kv"],
        ["ら", "kr"],    ["り", "p"],     ["る", "m"],     ["れ", "kg"],    ["ろ", ";"],
        ["わ", "dm"],                                                       ["を", "kx"],
        ["ん", "u"],
        ["ゔ", "sj"],
        ["が", "so"],    ["ぎ", "s;"],    ["ぐ", "sh"],    ["げ", "ls"],    ["ご", "lr"],
        ["ざ", "lb"],    ["じ", "le"],    ["ず", "lz"],    ["ぜ", "lc"],    ["ぞ", "sl"],
        ["だ", "lg"],    ["ぢ", "s'"],    ["づ", "sy"],    ["で", "lf"],    ["ど", "lw"],
        ["ば", "la"],    ["び", "sn"],    ["ぶ", "s,"],    ["べ", "s/"],    ["ぼ", "sk"],
        ["ぱ", "lx"],    ["ぴ", "su"],    ["ぷ", "sn"],    ["ぺ", "s,"],    ["ぽ", "si"],
        ["ぁ", "kq"],    ["ぃ", "ka"],    ["ぅ", "kz"],    ["ぇ", "dp"],    ["ぉ", "d/"],
        ["ゃ", "kw"],                     ["ゅ", "q"],                      ["ょ", "t"],
        ["っ", "n"],
        ["「", "["],     ["」", "]"],
        ["、", "kd"],    ["。", "ld"],     ["ー", "-"]
      ], "同位置", "薬中|中薬", "なし"
    ],
    [ "月配列 3-154改", "http://yellow.ribbon.to/%7Eujiro/hairetu.htm", [
        //      そこしてょ　つんいのりち
        //      はか☆とた　くう★◆きれ
        //      すけになさ　っる、。▲・
        //
        //  ☆  ぁひほふめ　ぬえみやぇ「
        //  ★  ぃをらあよ　まおもわゆ」
        //      ぅへせゅゃ　むろねーぉ
        //
        //  ◆  ぞごじでづ
        //      ばがぐどだ
        //      ずげぜぎざ
        //
        //  ▲  ぢぴぽぷ
        //      ぱびぼぶ
        //      　ぺべゔ
        ["あ", "kf"],    ["い", "i"],     ["う", "j"],     ["え", "du"],    ["お", "dj"],
        ["か", "s"],     ["き", ";"],     ["く", "h"],     ["け", "x"],     ["こ", "w"],
        ["さ", "b"],     ["し", "e"],     ["す", "z"],     ["せ", "kc"],    ["そ", "q"],
        ["た", "g"],     ["ち", "-"],     ["つ", "y"],     ["て", "r"],     ["と", "f"],
        ["な", "v"],     ["に", "c"],     ["ぬ", "dy"],    ["ね", "d,"],    ["の", "o"],
        ["は", "a"],     ["ひ", "kw"],    ["ふ", "kr"],    ["へ", "kx"],    ["ほ", "ke"],
        ["ま", "dh"],    ["み", "di"],    ["む", "dn"],    ["め", "kt"],    ["も", "dk"],
        ["や", "do"],                     ["ゆ", "d;"],                     ["よ", "kg"],
        ["ら", "kd"],    ["り", "p"],     ["る", "m"],     ["れ", "'"],     ["ろ", "dn"],
        ["わ", "dl"],                                                       ["を", "ks"],
        ["ん", "u"],
        ["が", "ls"],    ["ぎ", "lv"],    ["ぐ", "ld"],    ["げ", "lx"],    ["ご", "lw"],
        ["ざ", "lb"],    ["じ", "le"],    ["ず", "lz"],    ["ぜ", "lc"],    ["ぞ", "lq"],
        ["だ", "lg"],    ["ぢ", "/q"],    ["づ", "lt"],    ["で", "lr"],    ["ど", "lf"],
        ["ば", "la"],    ["び", "/s"],    ["ぶ", "/g"],    ["べ", "/c"],    ["ぼ", "/d"],
        ["ぱ", "/a"],    ["ぴ", "/w"],    ["ぷ", "/t"],    ["ぺ", "/x"],    ["ぽ", "/e"],
        ["ぁ", "/q"],    ["ぃ", "ka"],    ["ぅ", "kz"],    ["ぇ", "dp"],    ["ぉ", "d/"],
        ["ゃ", "kb"],                     ["ゅ", "kv"],                     ["ょ", "t"],
        ["っ", "n"],
        ["「", "["],     ["」", "]"],
        ["、", ","],     ["。", "."],     ["ー", "d."]
      ], "ほぼ同位置", "中|中薬小", "なし"
    ],
    [ "月配列 3-196", "http://yellow.ribbon.to/%7Eujiro/hairetu.htm", [
        //		こかしてょ つんいのりー
        //		は◇☆とた くう★◆き
        //		すけになさ っる、。そ
        //
        //	☆	ぁひほふめ ぬえみやぇ
        //	★	ぃをらあよ まおもわゆ
        //		ぅへせゅゃ むろね！ぉ
        //
        //	◇	ぞごじで？　づぶぼぴぢ
        //	◆	ばがぱどだ　ぐれちびぎ
        //		ずげぜ・ざ　ヴぷぽべぺ
        ["あ", "kf"],    ["い", "i"],     ["う", "j"],     ["え", "du"],    ["お", "dj"],
        ["か", "w"],     ["き", ";"],     ["く", "h"],     ["け", "x"],     ["こ", "q"],
        ["さ", "b"],     ["し", "e"],     ["す", "z"],     ["せ", "kc"],    ["そ", "/"],
        ["た", "g"],     ["ち", "sk"],    ["つ", "y"],     ["て", "r"],     ["と", "f"],
        ["な", "v"],     ["に", "c"],     ["ぬ", "dy"],    ["ね", "d,"],    ["の", "o"],
        ["は", "a"],     ["ひ", "kw"],    ["ふ", "kr"],    ["へ", "kx"],    ["ほ", "ke"],
        ["ま", "dh"],    ["み", "di"],    ["む", "dn"],    ["め", "kt"],    ["も", "dk"],
        ["や", "do"],                     ["ゆ", "d;"],                     ["よ", "kg"],
        ["ら", "kd"],    ["り", "p"],     ["る", "m"],     ["れ", "sj"],    ["ろ", "dm"],
        ["わ", "dl"],                                                       ["を", "ks"],
        ["ん", "u"],
        ["が", "ls"],    ["ぎ", "s;"],    ["ぐ", "sh"],    ["げ", "lx"],    ["ご", "lw"],
        ["ざ", "lb"],    ["じ", "le"],    ["ず", "lz"],    ["ぜ", "lc"],    ["ぞ", "lq"],
        ["だ", "lg"],    ["ぢ", "sp"],    ["づ", "sy"],    ["で", "lr"],    ["ど", "lf"],
        ["ば", "la"],    ["び", "sl"],    ["ぶ", "su"],    ["べ", "s."],    ["ぼ", "si"],
        ["ぱ", "ld"],    ["ぴ", "so"],    ["ぷ", "sm"],    ["ぺ", "s/"],    ["ぽ", "s,"],
        ["ぁ", "kq"],    ["ぃ", "ka"],    ["ぅ", "kz"],    ["ぇ", "dp"],    ["ぉ", "d/"],
        ["ゃ", "kb"],                     ["ゅ", "kv"],                     ["ょ", "t"],
        ["っ", "n"],
        ["「", "["],     ["」", "]"],
        ["、", ","],     ["。", "."],     ["ー", "-"]
      ], "ほぼ同位置", "薬中|中薬", "なし"
    ],
    [ "星配列", "http://layout.kachoufuugetu.net/hoshi/project/", [
        //      ーのかたす　わういしきぃ
        //      に◇☆なと　っん★◆はぁ
        //      ょゃゅてけ　くる、。り
        //
        //  ☆  ぽぼほろず　ぅむゆや
        //  ★  どおれそぱ　ぇでよさが
        //      えぷぶふぢ　ひびぴざ
        //
        //  ◇  　らねせぜ　ゔぞをめぎ
        //  ◆  こだもちば　づつみあま
        //      ごぉぬじげ　ぐへべぺ
        ["あ", "sl"],    ["い", "i"],     ["う", "u"],     ["え", "kz"],    ["お", "ks"],
        ["か", "e"],     ["き", "p"],     ["く", "n"],     ["け", "b"],     ["こ", "la"],
        ["さ", "dl"],    ["し", "o"],     ["す", "t"],     ["せ", "lr"],    ["そ", "kf"],
        ["た", "r"],     ["ち", "lf"],    ["つ", "sj"],    ["て", "v"],     ["と", "g"],
        ["な", "f"],     ["に", "a"],     ["ぬ", "lc"],    ["ね", "le"],    ["の", "w"],
        ["は", ";"],     ["ひ", "dn"],    ["ふ", "kv"],    ["へ", "sm"],    ["ほ", "ke"],
        ["ま", "s;"],    ["み", "sk"],    ["む", "du"],    ["め", "so"],    ["も", "ld"],
        ["や", "do"],                     ["ゆ", "di"],                     ["よ", "dk"],
        ["ら", "lw"],    ["り", "/"],     ["る", "m"],     ["れ", "kd"],    ["ろ", "kr"],
        ["わ", "y"],                                                        ["を", "si"],
        ["ん", "j"],
        ["ゔ", "sy"],
        ["が", "d;"],    ["ぎ", "sp"],    ["ぐ", "sn"],    ["げ", "lb"],    ["ご", "lz"],
        ["ざ", "d."],    ["じ", "lv"],    ["ず", "lt"],    ["ぜ", "lt"],    ["ぞ", "zu"],
        ["だ", "ls"],    ["ぢ", "kb"],    ["づ", "sh"],    ["で", "dj"],    ["ど", "ka"],
        ["ば", "lg"],    ["び", "dm"],    ["ぶ", "kc"],    ["べ", "s,"],    ["ぼ", "kw"],
        ["ぱ", "kg"],    ["ぴ", "d,"],    ["ぷ", "kx"],    ["ぺ", "s."],    ["ぽ", "kq"],
        ["ぁ", "'"],     ["ぃ", "-"],     ["ぅ", "dy"],    ["ぇ", "dh"],    ["ぉ", "lx"],
        ["ゃ", "x"],                      ["ゅ", "c"],                      ["ょ", "z"],
        ["っ", "h"],
        ["「", "["],     ["」", "]"],
        ["、", ","],     ["。", "."],     ["ー", "q"]
      ], "別位置", "薬中|中薬", "なし"
    ],
    [ "月配列 5-315", "http://keybor.web.fc2.com/tsuki5-315.html", [
        //      らるなこが　れっしんく
        //      とた☆かて　きの★うい
        //      はでまもょ　にす、。・
        //
        //  ☆  ぞ　ぉぇぢ　ぷぱげつー
        //      さそ　ばぼ　ひゃゅちを
        //      ぽづぅへぴ　ふめぎむぬ
        //
        //  ★  ぜねゆぶざ　ヴぺぃわえ
        //      どせだあけ　べお　りじ
        //      ろほごやよ　びみぁぐず
        ["あ", "kf"],    ["い", ";"],     ["う", "l"],     ["え", "kp"],    ["お", "kj"],
        ["か", "f"],     ["き", "h"],     ["く", "p"],     ["け", "kg"],    ["こ", "r"],
        ["さ", "da"],    ["し", "i"],     ["す", "m"],     ["せ", "ks"],    ["そ", "ds"],
        ["た", "s"],     ["ち", "dl"],    ["つ", "o"],     ["て", "g"],     ["と", "a"],
        ["な", "e"],     ["に", "n"],     ["ぬ", "d/"],    ["ね", "kw"],    ["の", "j"],
        ["は", "z"],     ["ひ", "dh"],    ["ふ", "dn"],    ["へ", "dv"],    ["ほ", "kx"],
        ["ま", "c"],     ["み", "km"],    ["む", "d."],    ["め", "dm"],    ["も", "v"],
        ["や", "kv"],                     ["ゆ", "ke"],                     ["よ", "kb"],
        ["ら", "q"],     ["り", "kl"],    ["る", "w"],     ["れ", "y"],     ["ろ", "kz"],
        ["わ", "ko"],                                                       ["を", "d;"],
        ["ん", "o"],
        ["ゔ", "ky"],
        ["が", "t"],     ["ぎ", "d,"],    ["ぐ", "k."],    ["げ", "di"],    ["ご", "kc"],
        ["ざ", "kt"],    ["じ", "k;"],    ["ず", "k/"],    ["ぜ", "kq"],    ["ぞ", "dq"],
        ["だ", "kd"],    ["ぢ", "dt"],    ["づ", "dx"],    ["で", "x"],     ["ど", "ka"],
        ["ば", "df"],    ["び", "kn"],    ["ぶ", "kr"],    ["べ", "kh"],    ["ぼ", "dg"],
        ["ぱ", "du"],    ["ぴ", "db"],    ["ぷ", "dy"],    ["ぺ", "ku"],    ["ぽ", "dz"],
        ["ぁ", "k,"],    ["ぃ", "ki"],    ["ぅ", "dc"],    ["ぇ", "dr"],    ["ぉ", "de"],
        ["ゃ", "dj"],                     ["ゅ", "dk"],                     ["ょ", "b"],
        ["っ", "u"],
        ["「", "["],     ["」", "]"],
        ["、", ","],     ["。", "."],     ["ー", "dp"]
      ], "別位置", "中|中", "あり"
    ],
    [ "月配列 E-X", "http://blog.livedoor.jp/eninlog/archives/4775068.html", [
        //      わたってょ　つんいしけへ
        //      のと☆かこ　くう★◆なひ
        //      すはにでさ　まるきもー
        //
        //  ☆  　づ　ゔぢ　ぐちゅせめ
        //      ！「　、・　むらりみそ
        //      （　　）　　ゃふやべび
        //
        //  ★  ぬごれよぼ　ぁ　ぃ
        //      えあおがを　…。　」？
        //      ゆねげほろ　ぅぇ　ぉ
        //
        //      ざぎずぜぞ　　　～
        //  ◆  ばじどだぶ　【】／
        //      ぱぴぷぺぽ　『』
        ["あ", "ka"],    ["い", "i"],     ["う", "j"],     ["え", "ka"],    ["お", "kd"],
        ["か", "f"],     ["き", ","],     ["く", "h"],     ["け", "p"],     ["こ", "g"],
        ["さ", "b"],     ["し", "o"],     ["す", "z"],     ["せ", "do"],    ["そ", "d;"],
        ["た", "w"],     ["ち", "u"],     ["つ", "y"],     ["て", "r"],     ["と", "s"],
        ["な", ";"],     ["に", "c"],     ["ぬ", "kq"],    ["ね", "kx"],    ["の", "a"],
        ["は", "x"],     ["ひ", "'"],     ["ふ", "dm"],    ["へ", "-"],     ["ほ", "kv"],
        ["ま", "n"],     ["み", "dl"],    ["む", "dh"],    ["め", "dp"],    ["も", "."],
        ["や", "dm"],                     ["ゆ", "kz"],                     ["よ", "kr"],
        ["ら", "dj"],    ["り", "dk"],    ["る", "m"],     ["れ", "ke"],    ["ろ", "kb"],
        ["わ", "q"],                                                        ["を", "kg"],
        ["ん", "u"],
        ["が", "kf"],    ["ぎ", "lw"],    ["ぐ", "dy"],    ["げ", "kc"],    ["ご", "kw"],
        ["ざ", "lq"],    ["じ", "ld"],    ["ず", "le"],    ["ぜ", "kr"],    ["ぞ", "lt"],
        ["だ", "lf"],    ["ぢ", "dt"],    ["づ", "dw"],    ["で", "v"],     ["ど", "ld"],
        ["ば", "la"],    ["び", "d/"],    ["ぶ", "lg"],    ["べ", "d."],    ["ぼ", "kt"],
        ["ぱ", "lz"],    ["ぴ", "lx"],    ["ぷ", "lc"],    ["ぺ", "lv"],    ["ぽ", "lb"],
        ["ぁ", "ky"],    ["ぃ", "ki"],    ["ぅ", "kn"],    ["ぇ", "km"],    ["ぉ", "k."],
        ["ゃ", "dn"],                     ["ゅ", "di"],                     ["ょ", "t"],
        ["っ", "e"],
        ["「", "ds"],     ["」", "kl"],
        ["、", "df"],     ["。", "kj"],     ["ー", "/"]
      ], "別位置", "中|中薬", "あり"
    ]
]

function evalLayout(element, index, array) {
    var text = document.getElementById('text').value.replace(/\s/g, '')

    var strokes = text
    element[2].forEach(function(element, index, array) {
        strokes = strokes.replace(new RegExp(element[0], 'g'), element[1])
    })
    strokes = strokes.replace(/:R/g, 'X')
    strokes = strokes.replace(/\|L/g, 'X')
    strokes = strokes.replace(/\|S/g, 'X')
    var m
    m = strokes.match(/X/g)
    var contCount = m ? m.length : 0
    strokes = strokes.replace(/[:\|X]/g, '')

    // left/right
    var lr = strokes.replace(/[SLR]/g, '')
    lr = lr.replace(/[12345qwertasdfgzxcvb\[\]]/g, 'L')
    lr = lr.replace(/[67890yuiop\-=hjkl;'\\nm,\.\/]/g, 'R')
    m = lr.match(/L/g)
    var lCount = m ? m.length : 0
    m = lr.match(/R/g)
    var rCount = m ? m.length : 0
    m = lr.match(/LR/g)
    var lrCount = m ? m.length : 0
    m = lr.match(/RL/g)
    var rlCount = m ? m.length : 0

    // same finger
    var sf = strokes.replace(/[SLR]/g, '')
    sf = sf.replace(/(.)\1+/g, '$1')
    sf = sf.replace(/[qaz\[\]]/g, 'A')
    sf = sf.replace(/[12wsx]/g, 'B')
    sf = sf.replace(/[3edc]/g, 'C')
    sf = sf.replace(/[45rfvtgb]/g, 'D')
    sf = sf.replace(/[67yhnujm]/g, 'E')
    sf = sf.replace(/[8ik,]/g, 'F')
    sf = sf.replace(/[90ol\.]/g, 'G')
    sf = sf.replace(/[p;\/\-'=\\]/g, 'H')
    var sfCount = 0
    var prev = ' '
    for (var i = 0; i < sf.length; ++i) {
        c = sf.charAt(i)
        if (c == prev)
            ++sfCount
        prev = c
    }

    // same row
    var sr = strokes
    sr = sr.replace(/(.)\1+/g, '$1')
    sr = sr.replace(/[qwer]/g, 'A')
    sr = sr.replace(/[asdf]/g, 'B')
    sr = sr.replace(/[zxcv]/g, 'C')
    sr = sr.replace(/[uiop]/g, 'D')
    sr = sr.replace(/[jkl;]/g, 'E')
    sr = sr.replace(/[m,\.\/]/g, 'F')
    var srCount = 0
    var prev = ' '
    for (var i = 0; i < sr.length; ++i) {
        c = sr.charAt(i)
        if (c == prev)
            ++srCount
        prev = c
    }

    // column frequency
    var cf = strokes.replace(/[SLR]/g, '')
    cf = cf.replace(/[qaz\[\]]/g, 'A')
    cf = cf.replace(/[12wsx]/g, 'B')
    cf = cf.replace(/[3edc]/g, 'C')
    cf = cf.replace(/[45rfvtgb]/g, 'D')
    cf = cf.replace(/[67yhnujm]/g, 'E')
    cf = cf.replace(/[8ik,]/g, 'F')
    cf = cf.replace(/[90ol\.]/g, 'G')
    cf = cf.replace(/[p;\/\-'=\\]/g, 'H')
    m = cf.match(/A/g)
    var fl4Count = m ? m.length : 0
    m = cf.match(/B/g)
    var fl3Count = m ? m.length : 0
    m = cf.match(/C/g)
    var fl2Count = m ? m.length : 0
    m = cf.match(/D/g)
    var fl1Count = m ? m.length : 0
    m = cf.match(/E/g)
    var fr1Count = m ? m.length : 0
    m = cf.match(/F/g)
    var fr2Count = m ? m.length : 0
    m = cf.match(/G/g)
    var fr3Count = m ? m.length : 0
    m = cf.match(/H/g)
    var fr4Count = m ? m.length : 0

    // row frequency
    var rf = strokes.replace(/[SLR]/g, '')
    rf = rf.replace(/[1234567890]/g, 'A')
    rf = rf.replace(/[\[\]qwertyuiop\-=]/g, 'B')
    rf = rf.replace(/[asdfghjkl;'\\]/g, 'C')
    rf = rf.replace(/[zxcvbnm,\.\/]/g, 'D')
    m = rf.match(/A/g)
    var r4Count = m ? m.length : 0
    m = rf.match(/B/g)
    var r3Count = m ? m.length : 0
    m = rf.match(/C/g)
    var r2Count = m ? m.length : 0
    m = rf.match(/D/g)
    var r1Count = m ? m.length : 0

    var barWidth = 12
    var barScale = 200
    var cfChart = ''
    cfChart += '<td><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs=" width="' + barWidth + '" height="' + (Math.round(barScale * fl4Count / strokes.length)) + '"></td>'
    cfChart += '<td><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs=" width="' + barWidth + '" height="' + (Math.round(barScale * fl3Count / strokes.length)) + '"></td>'
    cfChart += '<td><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs=" width="' + barWidth + '" height="' + (Math.round(barScale * fl2Count / strokes.length)) + '"></td>'
    cfChart += '<td><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs=" width="' + barWidth + '" height="' + (Math.round(barScale * fl1Count / strokes.length)) + '"></td>'
    cfChart += '<td><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs=" width="' + barWidth + '" height="' + (Math.round(barScale * fr1Count / strokes.length)) + '"></td>'
    cfChart += '<td><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs=" width="' + barWidth + '" height="' + (Math.round(barScale * fr2Count / strokes.length)) + '"></td>'
    cfChart += '<td><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs=" width="' + barWidth + '" height="' + (Math.round(barScale * fr3Count / strokes.length)) + '"></td>'
    cfChart += '<td><img src="data:image/gif;base64,R0lGODlhAQABAIAAAAUEBAAAACwAAAAAAQABAAACAkQBADs=" width="' + barWidth + '" height="' + (Math.round(barScale * fr4Count / strokes.length)) + '"></td>'
    cfChart = '<tr>' + cfChart + '</tr>'

    var cfTable = ''
    cfTable += '<td>' + (Math.round(fl4Count / strokes.length * 100)) + '%</td>'
    cfTable += '<td>' + (Math.round(fl3Count / strokes.length * 100)) + '%</td>'
    cfTable += '<td>' + (Math.round(fl2Count / strokes.length * 100)) + '%</td>'
    cfTable += '<td>' + (Math.round(fl1Count / strokes.length * 100)) + '%</td>'
    cfTable += '<td>' + (Math.round(fr1Count / strokes.length * 100)) + '%</td>'
    cfTable += '<td>' + (Math.round(fr2Count / strokes.length * 100)) + '%</td>'
    cfTable += '<td>' + (Math.round(fr3Count / strokes.length * 100)) + '%</td>'
    cfTable += '<td>' + (Math.round(fr4Count / strokes.length * 100)) + '%</td>'
    cfTable = '<tr>' + cfTable + '</tr>'

    var lrTable = ''
    lrTable += '<td colspan="4">' + (Math.round(lCount / strokes.length * 100)) + '%</td>'
    lrTable += '<td colspan="4">' + (Math.round(rCount / strokes.length * 100)) + '%</td>'
    lrTable = '<tr>' + lrTable + '</tr>'

    var freqTable = ''
    freqTable = cfChart + lrTable

    var inner = '<td><a href="' + element[1] + '" target="_blank">' + element[0] + '</a></td>'
    inner += '<td>' + element[3] + '</td>'
    inner += '<td>' + element[4] + '</td>'
    inner += '<td>' + element[5] + '</td>'
    inner += '<td>' + strokes.length + '</td>'
    inner += '<td>' + ((Math.round(strokes.length / text.length * 100)) / 100) + '</td>'
    inner += '<td>' + (lrCount + rlCount) + ' (' + (Math.round((lrCount + rlCount) / lr.length * 1000) / 10) + '%)</td>'
    // inner += '<td>' + contCount + '</td>'
    inner += '<td>' + sfCount + '</td>'
    inner += '<td>' + srCount + '</td>'
    inner += '<td><table class="nested">' + freqTable + '</table></td>'

    var row = document.createElement("tr")
    row.innerHTML = inner
    document.getElementById('result').appendChild(row)
}

function retry() {
    var table = document.getElementById('result')
    while (2 <= table.rows.length) {
        var row = table.rows[table.rows.length - 1]
        row.parentNode.removeChild(row)
    }
    layouts.forEach(evalLayout)
}

layouts.forEach(evalLayout)
</script>
</body>
</html>
